spring.config.import=optional:file:.env

# ===============================
# SERVER
# ===============================
server.port=${PORT:8080}
spring.application.name=ourteam
server.forward-headers-strategy=framework
spring.main.web-application-type=servlet
spring.mvc.static-path-pattern=/static/**
spring.main.banner-mode=off

# ===============================
# SPRING AI
# ===============================
spring.ai.mcp.server.type=SYNC
spring.ai.mcp.server.name=chatrealtime-mcp-server
spring.ai.mcp.server.version=1.0.0

spring.ai.openai.base-url=${OPENAI_BASE_URL}
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.openai.embedding.options.model=text-embedding-nomic-embed-text-v2-moe
spring.ai.openai.embedding.options.dimensions=768
spring.ai.openai.chat.base-url=${OPENAI_CHAT_BASE_URL}
spring.ai.openai.chat.api-key=${OPENAI_CHAT_API_KEY}
spring.ai.openai.chat.options.model=${OPENAI_CHAT_MODEL}

# PgVector
spring.ai.vectorstore.pgvector.index-type=HNSW
spring.ai.vectorstore.pgvector.distance-type=COSINE_DISTANCE
spring.ai.vectorstore.pgvector.dimensions=768
spring.ai.vectorstore.pgvector.max-document-batch-size=10000
spring.ai.vectorstore.pgvector.schema-validation=true
spring.ai.vectorstore.pgvector.table-name=vector_store
spring.ai.vectorstore.pgvector.initialize-schema=true

# ===============================
# DATABASE CONFIGURATION
# ===============================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# ===============================
# JPA / HIBERNATE
# ===============================
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.sql.init.mode=always
spring.sql.init.encoding=UTF-8

# ===============================
# AWS S3
# ===============================
aws.accessKey=${AWS_ACCESS_KEY}
aws.secretKey=${AWS_SECRET_KEY}
aws.region=${AWS_REGION:ap-southeast-1}
aws.s3.bucket=${AWS_S3_BUCKET}

spring.servlet.multipart.max-file-size=500MB
spring.servlet.multipart.max-request-size=500MB

logging.level.org.springframework.security=DEBUG

server.error.include-message=always
server.error.include-binding-errors=never
server.error.include-stacktrace=never

spring.docker.compose.enabled=false

# ===============================
# Redis
# ===============================
spring.redis.host=${REDIS_HOST:localhost}
spring.redis.port=${REDIS_PORT:6379}
spring.redis.password=${REDIS_PASSWORD:}

# ===============================
# JWT
# ===============================
jwt.secret=${JWT_SECRET}
jwt.expiration.access=${JWT_ACCESS_EXPIRATION:86400000}
jwt.expiration.refresh=${JWT_REFRESH_EXPIRATION:2592000000}

# ===============================
# Mail
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.default-encoding=UTF-8

# ===============================
# Cloudinary
# ===============================
cloudinary.cloud_name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api_key=${CLOUDINARY_API_KEY}
cloudinary.api_secret=${CLOUDINARY_API_SECRET}
